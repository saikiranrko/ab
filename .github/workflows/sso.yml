name: Process Multiline Input with Python

on:
  workflow_dispatch:
    inputs:
      message:
        description: >
          ðŸ“˜ Paste your multiline text here.
          When you paste text, it will be converted into the correct multiline format.
        required: true

jobs:
  process-multiline:
    runs-on: ubuntu-latest

    steps:
      - name: Convert input into multiline format
        run: |
          # Using Python to split the input into lines based on actual line breaks
          message="${{ github.event.inputs.message }}"
          
          # Convert the input into a multiline format (split by actual newlines in the string)
          python3 -c "
input_message = '''$message'''

# Split the input by lines (assuming user entered multiple lines)
formatted_message = input_message.splitlines()

# Join them with actual line breaks
formatted_output = '\n'.join(formatted_message)

# Print the formatted multiline message
print('ðŸ“˜ Paragraph from input:')
print('-----------------------------')
print(formatted_output)
print('-----------------------------')
"

      - name: Add to GitHub Step Summary
        run: |
          # Add the formatted multiline message to the step summary using <pre> for formatting
          echo "### ðŸ“˜ Paragraph from input" >> $GITHUB_STEP_SUMMARY
          echo "<pre>" >> $GITHUB_STEP_SUMMARY
          message="${{ github.event.inputs.message }}"
          echo "$message" >> $GITHUB_STEP_SUMMARY
          echo "</pre>" >> $GITHUB_STEP_SUMMARY
