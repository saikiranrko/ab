name: Process Multiline Input with Python
on:
  workflow_dispatch:
    inputs:
      message:
        description: >
          ðŸ“˜ Paste your multiline text here.
          When you paste text, it will be converted into the correct multiline format.
        required: true
jobs:
  process-multiline:
    runs-on: ubuntu-latest
    steps:
      - name: Save input to file
        run: echo '${{ github.event.inputs.message }}' > input.txt
      
      - name: Create Python script
        run: |
          cat > process.py << 'EOF'
          import os
          
          # Read the input file
          with open("input.txt", "r") as f:
              message = f.read()
          
          # Process the multiline input
          formatted_message = message.splitlines()
          formatted_output = "\n".join(formatted_message)
          
          # Print the formatted output
          print("ðŸ“˜ Paragraph from input:")
          print("-----------------------------")
          print(formatted_output)
          print("-----------------------------")
          EOF
      
      - name: Run Python script
        run: python3 process.py
      
      - name: Add to GitHub Step Summary
        run: |
          echo "### ðŸ“˜ Paragraph from input" >> $GITHUB_STEP_SUMMARY
          echo "<pre>" >> $GITHUB_STEP_SUMMARY
          cat input.txt >> $GITHUB_STEP_SUMMARY
          echo "</pre>" >> $GITHUB_STEP_SUMMARY
